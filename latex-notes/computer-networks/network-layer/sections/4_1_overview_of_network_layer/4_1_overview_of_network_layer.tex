\section{4.1 Overview of Network Layer}

\subsection{Core Role and Architectural Placement}

\begin{enumerate}
    \item Network layer is third layer of the internet protocol stack
    \item Resides between the transport layer and link layer
    \item Fundamental role is to move network layer packets, called datagrams, from a sending host to a receiving host.
    \item Host-to-Host Communication
          \begin{itemize}
              \item While transport layer provides logical communication between processes, network layer provides logical communication between hosts
          \end{itemize}

    \item Universal Implementation
          \begin{itemize}
              \item Transport and application layers run only on end systems (hosts)
              \item Network layer runs in every host and router in network
              \item It's esential b/c routers must examine datagram headers to perform their forwarding function
          \end{itemize}
    \item Router Protocol Stack
          \begin{itemize}
              \item Routers are network-layer (Layer 3) devices
              \item Consist of "truncated" protocol stack, implementing physical, link, and network layers
              \item Do not implement transport or application layers
              \item Sole purpose is to forward datagrams, not run end-user applications
          \end{itemize}
    \item At Each Stage
          \begin{enumerate}
              \item Sending Host
                    \begin{itemize}
                        \item Network layer takes segments from transport layer, encapsulates them into datagrams, and sends these datagrams to its nearby router
                    \end{itemize}
              \item Receiving Host
                    \begin{itemize}
                        \item Network layer receives datagrams from its nearby router, extracts transport-layer segments, and delviers them up to transport layer
                    \end{itemize}

              \item Routers
                    \begin{itemize}
                        \item Core function to examine header of an arriving datagram and forward it to appropriate output link
                        \item Routers are 'Layer 3' devices
                        \item Typically have a 'truncated' protocol stack, implementing up to network layer but not transport or application layers
                    \end{itemize}
          \end{enumerate}
\end{enumerate}


\subsection{Planes}

\subsubsection{Data Plane}
\begin{itemize}
    \item Performs per-touer function of forwarding datagrams from a router's input link to its appropriate output link
\end{itemize}

\subsubsection{Control Plane}
\begin{itemize}
    \item Performs network-wide logic that controls how datagrams are routed along an end-to-end path from source to destination host
\end{itemize}
